```markdown
# üõí E-Commerce Telegram Bot

Telegram-–±–æ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ **Python (Aiogram 3.x)** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **PostgreSQL**.  
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–æ–∫—É–ø–∫–∏: –æ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ –¥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –∏ –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üìÇ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ç–æ–≤–∞—Ä–æ–≤
  - –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ü–µ–Ω–∞, —Ñ–æ—Ç–æ)
- üõí –ö–æ—Ä–∑–∏–Ω–∞
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
  - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
  - –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–π —Å—É–º–º—ã
- üì¶ –ó–∞–∫–∞–∑
  - –í–≤–æ–¥ –∏–º–µ–Ω–∏, —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ –∞–¥—Ä–µ—Å–∞
  - –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
- üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤
- üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–æ–≤
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞—Ö

---

## üìÇ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```

app/
bot.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
config.py             # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ç–æ–∫–µ–Ω, –ë–î)
database/
db.py               # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
models.py           # SQLAlchemy –º–æ–¥–µ–ª–∏
handlers/
catalog.py          # –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
cart.py             # –ö–æ—Ä–∑–∏–Ω–∞
order.py            # –ó–∞–∫–∞–∑—ã
admin.py            # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
keyboards/            # Inline/Reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
services/             # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
tests/                # Unit-—Ç–µ—Å—Ç—ã
utils/                # –•–µ–ª–ø–µ—Ä—ã, middlewares

````

- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏**: –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ ‚Üí `services/`, —Ö–µ–Ω–¥–ª–µ—Ä—ã ‚Üí `handlers/`.
- **ORM**: SQLAlchemy + Alembic –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π.
- **FSM**: –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞.
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: Python `logging`.

---

## üóÑ –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```mermaid
erDiagram
    Category ||--o{ Product : contains
    User ||--o{ Cart : owns
    Product ||--o{ Cart : in
    Order ||--o{ OrderItem : includes
    User ||--o{ Order : places

    Category {
        int id PK
        text name
    }
    Product {
        int id PK
        int category_id FK
        text name
        text description
        numeric price
        text photo_url
    }
    User {
        int id PK
        bigint telegram_id
    }
    Cart {
        int id PK
        int user_id FK
        int product_id FK
        int quantity
    }
    Order {
        int id PK
        int user_id FK
        text status
        text address
        text phone
        text name
    }
    OrderItem {
        int id PK
        int order_id FK
        int product_id FK
        int quantity
        numeric price
    }
````

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/USERNAME/ecommerce-bot.git
cd ecommerce-bot
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
python -m venv venv
source venv/bin/activate   # –∏–ª–∏ venv\Scripts\activate –Ω–∞ Windows
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î

* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL
* –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

```sql
CREATE DATABASE ecommerce_bot;
```

* –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (Alembic):

```bash
alembic upgrade head
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env`:

```
BOT_TOKEN=your_telegram_token
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/ecommerce_bot
ADMINS=123456789  # Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
```

### 5. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python app/bot.py
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

* Unit-—Ç–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `tests/`.
* –ó–∞–ø—É—Å–∫:

```bash
pytest -v
```

–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤:

* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É
* –ü–æ–¥—Å—á–µ—Ç —Å—É–º–º—ã –∑–∞–∫–∞–∑–∞
* –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø—Ä–æ–µ–∫—Ç—É

* –ß–∏—Å—Ç—ã–π –∏ —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥
* –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø–æ —Å–ª–æ—è–º
* –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
* –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
* –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
* Unit-—Ç–µ—Å—Ç—ã (3-5 —à—Ç.)
* –°—Ö–µ–º–∞ –ë–î
* –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* Python 3.11+
* Aiogram 3.x
* PostgreSQL
* SQLAlchemy + Alembic
* Pytest
* Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

```

---


```
